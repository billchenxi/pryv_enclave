# Use a lightweight Python 3.12 image
FROM python:3.12-alpine

# Copy server script and requirements file
COPY server.py .
COPY requirements.txt .

# Install required Python packages
RUN pip install --no-cache-dir -r requirements.txt

# Run the VSOCK server on port 5005
CMD ["/usr/local/bin/python3", "server.py", "5005"]